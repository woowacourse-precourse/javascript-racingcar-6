# 목차

- [목차](#목차)
- [기능 목록](#기능-목록)
- [예외 사항](#예외-사항)
- [프로젝트 설계 과정](#프로젝트-설계-과정)
- [프로젝트 구조 및 역할](#프로젝트-구조-및-역할)
- [테스트 커버리지](#테스트-커버리지)

# 기능 목록

초간단 자동차 경주 게임을 구현한다.

- [x] 각 자동차에 이름을 부여할 수 있다. => 자동차 이름을 입력받는다.
  - [x] 전진하는 자동차를 출력할 때 자동차 이름을 같이 출력한다.
  - [x] 자동차 이름은 쉼표(,)를 기준으로 구분한다.
  - [x] 자동차 이름은 5자 이하만 가능하다.
        <br>
- [x] 주어진 횟수 동안 반복한다. -> 반복할 횟수를 입력받는다.

  - [x] n대의 자동차는 전진할 수 있다.
  - [x] n대의 자동차는 멈출 수 있다.
        <br>

- [x] 전진하는 조건
  - [x] 0에서 9 사이에서 무작위 값을 구한다.
  - [x] 무작위 값이 4 이상일 경우이다.
- [x] 자동차 경주 게임을 완료한 후 누가 우승했는지를 알려준다. 우승자는 한 명 이상일 수 있다.
- [x] 우승자가 여러 명일 경우 쉼표(,)를 이용하여 구분한다.
- [x] 사용자가 잘못된 값을 입력한 경우 throw문을 사용해 "[ERROR]"로 시작하는 메시지를 가지는 예외를 발생시킨 후, 애플리케이션은 종료되어야 한다.

# 예외 사항

- 자동차 이름
  - [x] 자동차 이름이 5자 이하 문자가 아닌경우
  - [x] 자동차 이름이 중복된 경우
  - [x] 자동차 이름에 욕설이 포함된 경우
  - [x] 자동차 이름이 빈깂일 경우
  - [x] 자동차 이름에 공백이 포함될 경우
- [횟수]
  - [x] 1이상의 숫자형태가 아닌 경우

# 프로젝트 설계 과정

![프로젝트 설계 과정 Image](https://github.com/rlaclghks123/refactoring/assets/55423198/8be7bf57-bda1-4b8c-bd82-b8b06c1fc4a2)

- 사전 지식

  - RacingGame 주최측 -> App.js
  - 지원자 -> Car.js
  - 심판 -> Refree.js
  - 전광판 -> OutputView

- 게임 설정

  1. RacingGame 주최측에서 게임을 엽니다.
  2. 게임을 심판할 심판을 고용합니다.
  3. 우선 자동차 게임을 할 지원자를 받습니다.
  4. 주최측에서는 지원자를 받아서 참가인원을 선별합니다.
  5. 참가인원 명단은 심판에게 전달하고, 심판은 본인의 메모장에 기록해둡니다.
  6. 주최측은 자동차 경주를 몇 라운드 진행할지 결정합니다.

- 게임 시작

  1. 게임을 시작합니다.
  2. 전광판에 "경기결과" 메세지를 나타냅니다.
  3. 선정한 총 라운드만큼 게임을 진행합니다.
     1. 심판이 복불복 게임 진행 결과 4이상인 경우 해당 자동차는 이동합니다.
     2. 심판이 복불복 게임 진행 결과 4미만인 경우 자동차를 움직이지 않도록 합니다.
     3. 각 라운드마다 심판은 주최즉으로 자동차 경기 결과를 보고합니다.
     4. 각 라운드마다 주최측은 심판으로 부터 받은 결과를 받아 전광판에 발표합니다.

- 우승자 발표
  1. 모든 라운드 끝난다면 심판은 경기 결과를 통해 주최측에게 우승자를 보고합니다.
  2. 주최측은 심판으로부터 받은 우승자를 전광판에 발표합니다.

# 프로젝트 구조 및 역할

![프로젝트 구조 및 역할 Image](https://github.com/rlaclghks123/refactoring/assets/55423198/b90e3122-1091-4d99-9d84-87e829240e33)

- App 클래스

  - 전체적인 흐름을 관리하는 역할을 하는 클래스
  - play()

    ```
    - setUpRaceGame()
      - setUpCars : 자동차 이름을 입력 받아온다.
      - setUpTotalRounds : 총 라운드 횟수를 입력 받아 온다.
    - playRaceGame() :
      - 총 라운드만큼 자동차를 이동시키고, 결과값을 출력한다.
    - findWinner() :
      - 우승자를 찾아, 출력한다.
    ```

- 심판 클래스

  - App의 요청에 따라 자동차를 통제하는 클래스 Ex) 자동차를 등록, 이동, 기록에 따른 결과값 반환, 승리자 반환
  - registerCars : `자동차 이름들을 받아와서 자동차 인스턴스를 만들어 보관한다.`
  - moveCars

    ```
    총 자동차 개수만큼 순회하면서 아래의 조건에 따라 자동차를 전진, 정지한다.
    - 랜덤숫자가 4이상인 경우 : 전진
    - 랜덤숫자가 4미만인 경우 : 정지
    ```

  - getRecordResultList() : `자동차 인스턴스로부터 결과값을 가져온다.`
  - getWinner() : `자동차 인스턴스로부터 받아온 결과값으로 부터 최종 승리자를 찾는다.`

- 자동차 클래스
  - 자동차 역할을 하는 클래스 Ex) 이동, 정지, 기록을 반환하는 클래스
  - move : `자동차 위치 이동`
  - stop : `자동차 위치 정지`
  - record : `자동차 이름, 현재위치를 반환`

# 테스트 커버리지

- `명령어 : npx jest --coverage`

![테스트 커버리지 Image](https://github.com/rlaclghks123/refactoring/assets/55423198/6221d693-5e6c-4f40-b436-8cee936de949)
