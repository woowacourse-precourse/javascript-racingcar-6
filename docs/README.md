# 자동차 경주 기능 명세서

1주차 미션 숫자 야구 게임을 해결하기 위해서 했던 고민들 중 한가지는 “현실”에서 숫자 야구 게임이 진행되려면 어떤 주체(참여자)들이 필요하고 각 주체의 역할이 무엇인지에 대한 고민이였습니다.게임을 진행하기 위해서 필요한 주체들은 플레이어, 컴퓨터, 게임 진행자(심판)으로 나눠볼 수 있었습니다. 각 참여자별로 주체(객체)를 만들기 위한 클래스를 만들어 각 참여자들의 역할과 책임을 표현하는 방식으로 미션을 해결했습니다. 제가 적용한 이 방법, **참여자별로 역할과 책임을 나누고 참여자별로 클래스를 만드는 것**의 가장 큰 특징은 “참여자의 역할과 책임을 모두 참여자 클래스 내부에서 표현하고 있다”는 것입니다. 이 방법은 참여자 클래스에서 그 참여자 주체의 동작을 모두 표현하고 있기 때문에, 그 클래스 내부만 들여다보면 어떤 동작을 하는 주체인지 쉽게 파악이 가능하다는 장점이 있었습니다. 하지만

- 한 주체의 역할과 책임이 너무 많은 경우에 코드가 길어짐
- 다른 클래스를 통해 생성되는 주체들의 동작이 비슷한 경우 동작(메서드)을 재사용하기 힘들어짐.

이 2가지 단점을 확인할 수 있었습니다. 이 단점은 제가 1주차 미션을 해결하기 위해서 적용했던 패턴에서도 확인할 수 있는데,

- 플레이어는 게임에 참여하기 위해서 **숫자를 입력하면서 + 숫자에 대한 유효성을 함께 검증하고 있다.**
- 심판은 **게임 진행을 책임지고 + 게임 진행 상황에 대해서 출력하고 있다**

이러한 단점을 해결하기 위해서는

- 숫자를 입력하는 것, 게임 진행 상황을 출력하는 것 이 2가지는 사용자와 가장 밀접해있기 때문에 **사용자 인터페이스** 관심사를 분리
- **입력의 유효성을 검증**하는 관심사를 분리
- 명령을 트리거 하는 주체, 명령을 받아서 실행하는(게임을 진행 시키는) 관심사를 분리

이 3가지로 문제를 해결해볼 수 있을 것 같았습니다. 좀 더 객체지향적이며, 관심사 분리가 더 잘 되는 패턴에 대해서 고민해보게 되었습니다.

## MVC 패턴 적용하기

좀 더 객체지향적이며, 관심사 분리가 더 잘 되는 패턴을 고민하던 중 **MVC 패턴**을 적용해보기로 했습니다.
MVC 패턴은 객체지향 프로그래밍에서 주로 사용되며 사용자 인터페이스, 데이터 및 논리 제어를 구현하는데 널리 사용되는 소프트웨이 디자인 패턴입니다. 주로 소프트웨어 비즈니스 로직과 화면을 구분하는데 중점을 두고 있습니다. 이러한 **관심사 분리**는 더나은 업부의 분리와 향상된 관리를 제공합니다.([참고](https://developer.mozilla.org/ko/docs/Glossary/MVC))
비즈니스 로직과 화면을 분리, 관심사 분리 이 두가지를 적용한 패턴인 MVC 패턴을 이번 기회에 적용해보면 1주차를 해결했을 때 적용한 패턴에서 확인할 수 있었던 단점들을 해결해볼 수 있을 것이라 생각했습니다.

## Model

> MVC 패턴에서 M(Model)은 데이터와 비즈니스 로직을 관리하며, 비즈니스 로직은 데이터의 상태를 변경시키는 로직을 말합니다. 데이터의 상태가 변경되면 일반적으로 이를 V(View)에게 알리고 가끔 컨트롤러에게 알리기도 합니다.

### Car

경주에 참여하는 한 자동차의 데이터(이름, 현재 위치)와, 현재 위치와 관련된 비즈니스 로직을 표현합니다.

- 자동차 모델 기능 명세서
- [x] 자동차 모델은 멤버 변수로 자동차의 이름과, 현재 위치를 가진다.
- [x] 자동차의 현재 위치를 변경시키는 메서드(비즈니스 로직)을 구현한다.

### CarRace

자동차 경주는 경주를 진행 시키고, 경주의 우승자를 판단합니다.  
따라서, 경주에 참여하는 모든 자동차들과 0~9까지의 랜덤 숫자를 뽑는 함수를 데이터로 가지며, 경주와 관련된 비즈니스 로직을 표현합니다.

- 자동차 경주 모델 기능 명세서
- [x] 경주를 진행 하면서 참가 자동차의 위치를 변경 시킨다(Car 모델의 현재 위치를 변경 시키는 메서드를 호출한다)
- [x] 경주의 우승자를 판단한다.

## View

> MVC 패턴에서 V(View)는 레이아웃, 화면을 처리합니다. 이번 미션에서 뷰는 콘솔 화면을 책임지도록 할 수 있습니다.

### Input

`InputView`는 사용자의 입력 관심사를 처리합니다.

- `InputView` 기능 명세서
- [x] 경주에 참여할 플레이어들의 이름을 입력 받는다.
- [x] 경주를 진행 시킬 횟수를 입력 받는다.
- [x] 입력 받는 과정에서 입력의 유효성 검사를 진행한다.

### Output(Print)

`OutputView`는 콘솔 화면에 데이터를 출력하는 관심사를 처리합니다.

- `OutputView` 기능 명세서
- [x] 경주의 진행 상황을 출력한다.
- [x] 경주의 우승자를 출력한다.
- [x] 유효성 검사를 통과하지 못할 경우 에러 메세지를 출력한다 -> 유효성을 검사하는 함수가 바로 에러를 `throw`하도록 변경

## Controller

> MVC 패턴에서 C(Controller)은 Model, View 중간에 위치하여 Model, View로 명령을 전달하며 사용자로부터의 입력에 대한 응답으로 모델과 뷰를 업데이트하는 로직을 포함합니다.

### CarRaceController

`CarRaceController`는 Model(Car, Race), View(Input, Output)로 각각 명령을 전달하는 관심사를 처리합니다.

- `CarRaceController` 기능 명세서

- [x] 경주를 시작하기 전 사용자로부터 입력을 받아오기 위해 View(Input)로 명령을 전달한다.
- [x] 경주를 진행 시키기 위해서 Race(Model)에게 명령을 전달한다.
- [x] 경주를 진행 상황을 출력하기 위해서 View(Output)로 명령을 전달한다.
- [x] 경주 우승자를 출력하기 위해서 View(Output)로 명령을 전달한다.

## Constants(상수)

- [x] 자동차 이동 조건(4)를 상수로 분리한다.
- [x] 에러 메세지들을 상수로 분리한다.
- [x] 게임 메세지들을 상수로 분리한다.
- [x] 입력을 받을 때 사용하는 쿼리를 상수로 분리한다.

## Validator

- [x] 자동차 이름들의 유효성을 확인하는 함수를 구현한다.
- [x] 자동차 경주 시도 횟수의 유효성을 확인하는 함수를 구현한다.
- [x] 유효하지 않은 입력이 인자로 들어온 경우 에러를 `throw`한다.

## Utils

- [x] 0~9 사이의 랜덤 숫자를 반환하는 함수를 구현한다.

![raceMVCModel](https://github.com/woowacourse-precourse/javascript-baseball-6/assets/68489467/5432329e-6b42-4b87-996c-736a06b4d03c)
